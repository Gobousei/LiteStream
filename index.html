<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LiteStreamProject</title>
</head>
<body>
    <h1>LiteStreamプロジェクト</h1>
    <h2>概要</h2>
    <p>現在、鳥大オケではオンラインで三原先生と繋ぎ、指導していただくオンライン合奏が行われていますが、通信状況が不安定で、映像が途絶えることが多々あります。</p>
        データダイエットプロジェクトは、この状況を改善するためのプロジェクトです。</p>
        このためには専用のソフト、設定が必要になるため、下の文章の手順に従って設定を行ってください。</p>
        なお、このページはデータ量削減のため、装飾を削減しております（手抜き）。
    </p>
    <h2>詳細説明</h2>
    <p>
        本来ルータなどの通信機器は、送信側と受信側の一対一の通信しか行えず、この送信・受信する機器を高速で切り替えることで複数台のパソコンが同時に接続しているように見せています。</p>
        オンライン合奏では、複数のパソコンがSkypeサーバーに同時に接続する必要があり、この時のデータ量や切り替え回数が膨大になり、ルータに大きな負荷をかけています。</p>
        そこで、これら複数のパソコンをルータを介さずネットワークを構築し、中心となるパソコンで映像を合成しルータに接続することで、送受信するデータ量を大幅に減らす接続方法を提案します。
    </p>
    <img src="./img/network.png" width="90%">
    <h2 style="color:red">注意</h2>
    <p>これらの設定を行うと、NDIを使用している間、カメラ用機器のカメラ、マイクへのアクセス権限が映像送信機機に移ります。</p>
    <h2>設定手順</h2>
    <h3>1.OBS Studio（仮想カメラ）のインストール</h3>
    <p><a href="https://obsproject.com/ja/download" target="_blank">こちら</a>から、インストールしてください。</p>
    <p>インストール後、自動構成ウィザードが開かれますが、キャンセルを押してください。</p>

    <h3>2.NDI（映像転送用）のインストール</h3>
    <p><a href="https://github.com/obs-ndi/obs-ndi/releases" target="_blank">こちらのサイト</a>から、.exeファイルをダウンロードしてインストールします。</p>
    <img src="./img/ndi.png">
    <p>インストールを実行しようとすると、セキュリティ警告がでます。「詳細情報」をクリックして、実行します。</p>
    <p>インストール後にネットワークに関する警告が出てくるので、アクセスを許可してください。これを許可しないと、通信ができません。</p>

    <h3>3.NDI Runtime（映像調整用）のインストール</h3>
    <p><a href="http://ndi.link/NDIRedistV5" target="_blank">こちら</a>をクリックして、ダウンロード・インストールします。</p>

    <h3>4.カメラ用機器の設定</h3>
    <p>0.LANケーブルでPCとスイッチングハブを接続します。</p>
    <p>1.OBS Studioを再起動し、「ツール」から、「NDI™ Output settings」をクリックします。</p>
    <img src="./img/NDI_setting.png">
    <p>2.「Main Output」にチェックをいれ、適当な名前を付けてOKをクリックします。</p>
    <img src="./img/NDI_name.png">
    <p>3.「ソース」にある＋ボタンを押し、「映像キャプチャデバイス」をクリックします。</p>
    <img src="./img/camera.png">
    <p>PCのwifiを切断して設定完了です。</p>

    <h3>5.映像送信機器の設定</h3>
    <p>0.LANケーブルでPCとスイッチングハブを接続します。</p>
    <p>1.OBS Studioを再起動します。</p>
    <p>2.「ソース」にある＋ボタンを押し、「NDI™ Output settings」をクリックします。</p>
    <img src="./img/NDI_receive.png">
    <p>3.Source nameでカメラ用機器を選択します。</p>
    <p>4.これをカメラ機の台数分追加します。</p>
    <p>5.最後に右下にある、「仮想カメラ開始」をクリックして会議に参加してください。</p>
    

    <h2>推奨構成</h2>
    <img src="./img/system.png">
    <h3>映像送信機器</h3>
    <p>映像送信機機は、全員の良く見える場所に設置し、先生の映像を投影します。</p>
    <h3>カメラ用機器</h3>
    <p>カメラ用機器は、映像を送信するだけです。マイクのオン、オフは映像送信機器で操作可能です。</p>

        <a href="https://bbit-lab.com/obs-ndi/" target="_blank">参考にしたサイト</a>
</body>
</html>